CREATE TABLE `user_transaction` (
  `order_id` char(32) NOT NULL,
  `package_code` char(4) NOT NULL,
  `transaction_id` varchar(100) DEFAULT NULL,
  `transaction_status` varchar(100) DEFAULT NULL,
  `transaction_settled` enum('1','0') NOT NULL DEFAULT '0',
  `transaction_failure` enum('1','0') NOT NULL DEFAULT '0',
  `transaction_moved` enum('1','0') NOT NULL DEFAULT '0',
  `transaction_failure_message` varchar(500) DEFAULT NULL,
  `customer_identity` char(32) NOT NULL,
  `order_email` char(32) NOT NULL,
  `customer_fname` varchar(100) NOT NULL,
  `customer_lname` varchar(100) NOT NULL,
  `customer_email` varchar(100) NOT NULL,
  `customer_phone` varchar(100) NOT NULL,
  `customer_web` varchar(250) NOT NULL,
  `customer_fax` varchar(100) NOT NULL,
  `customer_company` varchar(100) NOT NULL,
  `customer_billing_fname` varchar(100) NOT NULL,
  `customer_billing_lname` varchar(100) NOT NULL,
  `customer_billing_locality` varchar(100) NOT NULL,
  `customer_billing_postcode` varchar(100) NOT NULL,
  `customer_billing_street_address_1` varchar(100) NOT NULL,
  `customer_billing_street_address_2` varchar(100) NOT NULL,
  `customer_billing_country` varchar(100) NOT NULL,
  `customer_billing_region` varchar(100) NOT NULL,
  `customer_billing_company` varchar(100) NOT NULL,
  `customer_billing_country_code_alpha_2` varchar(100) DEFAULT NULL,
  `customer_billing_country_code_alpha_3` char(3) DEFAULT NULL,
  `amount` float(10,2) NOT NULL,
  `recurring_transaction` enum('1','0') NOT NULL DEFAULT '0',
  `recurring_customer_id` char(50) DEFAULT NULL,
  `recurring_subscription_id` varchar(50) DEFAULT NULL,
  `recurring_subscription_status` varchar(50) DEFAULT NULL,
  `recurring_next_billing_amount` float(10,2) DEFAULT NULL,
  `recurring_next_billing_date` date DEFAULT NULL,
  `recurring_current_billing_cycle` tinyint(4) DEFAULT NULL,
  `recurring_payment_method_token` varchar(50) DEFAULT NULL,
  `recurring_currency_code` char(5) DEFAULT NULL,
  `recurring_transaction_failure` enum('0','1') NOT NULL DEFAULT '1',
  `credit_card_number` varchar(100) NOT NULL,
  `credit_card_cvv` varchar(100) NOT NULL,
  `credit_card_holder_name` varchar(200) NOT NULL,
  `credit_card_exp_month` tinyint(4) NOT NULL,
  `credit_card_exp_year` tinyint(4) NOT NULL,
  `credit_card_type` varchar(32) DEFAULT NULL,
  `created_at` date NOT NULL,
  `updated_at` date DEFAULT NULL,
  UNIQUE KEY `order_id` (`order_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='transaction for each signup in cloudenote'